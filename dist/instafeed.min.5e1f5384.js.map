{"version":3,"sources":["js/instafeed.min.js"],"names":["e","t","exports","module","define","amd","globalThis","self","Instafeed","Error","o","accessToken","accessTokenTimeout","after","apiTimeout","apiLimit","before","debug","error","filter","limit","mock","render","sort","success","target","template","templateBoundaries","transform","n","length","_state","running","node","token","paging","pool","_options","prototype","run","_debug","_start","document","getElementById","_getAccessToken","_fail","message","_showNext","_finish","hasNext","next","i","splice","_renderData","s","_makeApiRequest","_success","_processData","unused","r","push","a","items","u","l","p","data","c","_getItemData","f","slice","_extractTags","exec","test","media_type","media_url","thumbnail_url","caption","tags","id","image","link","permalink","model","timestamp","type","username","_basicRender","createElement","innerHTML","childNodes","appendChild","RegExp","index","_valueForKeyPath","toString","lastIndex","_runHook","console","XMLHttpRequest","ontimeout","onerror","onload","getResponseHeader","status","indexOf","JSON","parse","responseText","code","open","timeout","send","clearTimeout","setTimeout","log","call","arguments","apply"],"mappings":"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","file":"instafeed.min.5e1f5384.js","sourceRoot":"..","sourcesContent":["/* instafeed.js | v2.0.0-rc3 | https://github.com/stevenschobert/instafeed.js | License: MIT */\n!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).Instafeed=t()}(this,function(){\"use strict\";function e(e,t){if(!e)throw new Error(t)}function t(t){e(!t||\"object\"==typeof t,\"options must be an object, got \"+t+\" (\"+typeof t+\")\");var o={accessToken:null,accessTokenTimeout:1e4,after:null,apiTimeout:1e4,apiLimit:null,before:null,debug:!1,error:null,filter:null,limit:null,mock:!1,render:null,sort:null,success:null,target:\"instafeed\",template:'<a href=\"{{link}}\"><img title=\"{{caption}}\" src=\"{{image}}\" /></a>',templateBoundaries:[\"{{\",\"}}\"],transform:null};if(t)for(var n in o)\"undefined\"!=typeof t[n]&&(o[n]=t[n]);e(\"string\"==typeof o.target||\"object\"==typeof o.target,\"target must be a string or DOM node, got \"+o.target+\" (\"+typeof o.target+\")\"),e(\"string\"==typeof o.accessToken||\"function\"==typeof o.accessToken,\"accessToken must be a string or function, got \"+o.accessToken+\" (\"+typeof o.accessToken+\")\"),e(\"number\"==typeof o.accessTokenTimeout,\"accessTokenTimeout must be a number, got \"+o.accessTokenTimeout+\" (\"+typeof o.accessTokenTimeout+\")\"),e(\"number\"==typeof o.apiTimeout,\"apiTimeout must be a number, got \"+o.apiTimeout+\" (\"+typeof o.apiTimeout+\")\"),e(\"boolean\"==typeof o.debug,\"debug must be true or false, got \"+o.debug+\" (\"+typeof o.debug+\")\"),e(\"boolean\"==typeof o.mock,\"mock must be true or false, got \"+o.mock+\" (\"+typeof o.mock+\")\"),e(\"object\"==typeof o.templateBoundaries&&2===o.templateBoundaries.length&&\"string\"==typeof o.templateBoundaries[0]&&\"string\"==typeof o.templateBoundaries[1],\"templateBoundaries must be an array of 2 strings, got \"+o.templateBoundaries+\" (\"+typeof o.templateBoundaries+\")\"),e(!o.template||\"string\"==typeof o.template,\"template must null or string, got \"+o.template+\" (\"+typeof o.template+\")\"),e(!o.error||\"function\"==typeof o.error,\"error must be null or function, got \"+o.error+\" (\"+typeof o.error+\")\"),e(!o.before||\"function\"==typeof o.before,\"before must be null or function, got \"+o.before+\" (\"+typeof o.before+\")\"),e(!o.after||\"function\"==typeof o.after,\"after must be null or function, got \"+o.after+\" (\"+typeof o.after+\")\"),e(!o.success||\"function\"==typeof o.success,\"success must be null or function, got \"+o.success+\" (\"+typeof o.success+\")\"),e(!o.filter||\"function\"==typeof o.filter,\"filter must be null or function, got \"+o.filter+\" (\"+typeof o.filter+\")\"),e(!o.transform||\"function\"==typeof o.transform,\"transform must be null or function, got \"+o.transform+\" (\"+typeof o.transform+\")\"),e(!o.sort||\"function\"==typeof o.sort,\"sort must be null or function, got \"+o.sort+\" (\"+typeof o.sort+\")\"),e(!o.render||\"function\"==typeof o.render,\"render must be null or function, got \"+o.render+\" (\"+typeof o.render+\")\"),e(!o.limit||\"number\"==typeof o.limit,\"limit must be null or number, got \"+o.limit+\" (\"+typeof o.limit+\")\"),e(!o.apiLimit||\"number\"==typeof o.apiLimit,\"apiLimit must null or number, got \"+o.apiLimit+\" (\"+typeof o.apiLimit+\")\"),this._state={running:!1,node:null,token:null,paging:null,pool:[]},this._options=o}return t.prototype.run=function(){var e=this;return this._debug(\"run\",\"options\",this._options),this._debug(\"run\",\"state\",this._state),this._state.running?(this._debug(\"run\",\"already running, skipping\"),!1):(this._start(),this._debug(\"run\",\"getting dom node\"),\"string\"==typeof this._options.target?this._state.node=document.getElementById(this._options.target):this._state.node=this._options.target,this._state.node?(this._debug(\"run\",\"got dom node\",this._state.node),this._debug(\"run\",\"getting access token\"),this._getAccessToken(function(t,o){if(t)return e._debug(\"onTokenReceived\",\"error\",t),void e._fail(new Error(\"error getting access token: \"+t.message));e._debug(\"onTokenReceived\",\"got token\",o),e._state.token=o,e._showNext(function(t){if(t)return e._debug(\"onNextShown\",\"error\",t),void e._fail(t);e._finish()})}),!0):(this._fail(new Error(\"no element found with ID \"+this._options.target)),!1))},t.prototype.hasNext=function(){var e=this._state.paging,t=this._state.pool;return this._debug(\"hasNext\",\"paging\",e),this._debug(\"hasNext\",\"pool\",t.length,t),t.length>0||e&&\"string\"==typeof e.next},t.prototype.next=function(){var e=this;return e.hasNext()?e._state.running?(e._debug(\"next\",\"already running, skipping\"),!1):(e._start(),void e._showNext(function(t){if(t)return e._debug(\"onNextShown\",\"error\",t),void e._fail(t);e._finish()})):(e._debug(\"next\",\"hasNext is false, skipping\"),!1)},t.prototype._showNext=function(e){var t=this,o=null,n=null,i=\"number\"==typeof this._options.limit;if(t._debug(\"showNext\",\"pool\",t._state.pool.length,t._state.pool),t._state.pool.length>0){if(n=i?t._state.pool.splice(0,t._options.limit):t._state.pool.splice(0),t._debug(\"showNext\",\"items from pool\",n.length,n),t._debug(\"showNext\",\"updated pool\",t._state.pool.length,t._state.pool),t._options.mock)t._debug(\"showNext\",\"mock enabled, skipping render\");else try{t._renderData(n)}catch(s){return void e(s)}e(null)}else t._state.paging&&\"string\"==typeof t._state.paging.next?o=t._state.paging.next:(o=\"https://graph.instagram.com/me/media?fields=caption,id,media_type,media_url,permalink,thumbnail_url,timestamp,username&access_token=\"+t._state.token,t._options.apiLimit||\"number\"!=typeof t._options.limit?\"number\"==typeof t._options.apiLimit&&(t._debug(\"showNext\",\"apiLimit set, overriding limit\",t._options.apiLimit,t._options.limit),o=o+\"&limit=\"+t._options.apiLimit):(t._debug(\"showNext\",\"no apiLimit set, falling back to limit\",t._options.apiLimit,t._options.limit),o=o+\"&limit=\"+t._options.limit)),t._debug(\"showNext\",\"making request\",o),t._makeApiRequest(o,function(o,n){var i=null;if(o)return t._debug(\"onResponseReceived\",\"error\",o),void e(new Error(\"api request error: \"+o.message));t._debug(\"onResponseReceived\",\"data\",n),t._success(n),t._debug(\"onResponseReceived\",\"setting paging\",n.paging),t._state.paging=n.paging;try{if(i=t._processData(n),t._debug(\"onResponseReceived\",\"processed data\",i),i.unused&&i.unused.length>0){t._debug(\"onResponseReceived\",\"saving unused to pool\",i.unused.length,i.unused);for(var r=0;r<i.unused.length;r++)t._state.pool.push(i.unused[r])}}catch(a){return void e(a)}if(t._options.mock)t._debug(\"onResponseReceived\",\"mock enabled, skipping append\");else try{t._renderData(i.items)}catch(s){return void e(s)}e(null)})},t.prototype._processData=function(e){var t=\"function\"==typeof this._options.transform,o=\"function\"==typeof this._options.filter,n=\"function\"==typeof this._options.sort,i=\"number\"==typeof this._options.limit,s=[],r=null,a=null,u=null,l=null,p=null;if(this._debug(\"processData\",\"hasFilter\",o,\"hasTransform\",t,\"hasSort\",n,\"hasLimit\",i),\"object\"!=typeof e||\"object\"!=typeof e.data||e.data.length<=0)return null;for(var c=0;c<e.data.length;c++){if(a=this._getItemData(e.data[c]),t)try{u=this._options.transform(a),this._debug(\"processData\",\"transformed item\",a,u)}catch(f){throw this._debug(\"processData\",\"error calling transform\",f),new Error(\"error in transform: \"+f.message)}else u=a;if(o){try{l=this._options.filter(u),this._debug(\"processData\",\"filter item result\",u,l)}catch(f){throw this._debug(\"processData\",\"error calling filter\",f),new Error(\"error in filter: \"+f.message)}l&&s.push(u)}else s.push(u)}if(n)try{s.sort(this._options.sort)}catch(f){throw this._debug(\"processData\",\"error calling sort\",f),new Error(\"error in sort: \"+f.message)}return i&&(r=s.length-this._options.limit,this._debug(\"processData\",\"checking limit\",s.length,this._options.limit,r),r>0&&(p=s.slice(s.length-r),this._debug(\"processData\",\"unusedItems\",p.length,p),s.splice(s.length-r,r))),{items:s,unused:p}},t.prototype._extractTags=function(e){var t=/#([^\\s]+)/gi,o=/[~`!@#$%^&*\\(\\)\\-\\+={}\\[\\]:;\"'<>\\?,\\./|\\\\\\s]+/i,n=[],i=null;if(\"string\"==typeof e)for(;null!==(i=t.exec(e));)!1===o.test(i[1])&&n.push(i[1]);return n},t.prototype._getItemData=function(e){var t=null,o=null;switch(e.media_type){case\"IMAGE\":t=\"image\",o=e.media_url;break;case\"VIDEO\":t=\"video\",o=e.thumbnail_url;break;case\"CAROUSEL_ALBUM\":t=\"album\",o=e.media_url}return{caption:e.caption,tags:this._extractTags(e.caption),id:e.id,image:o,link:e.permalink,model:e,timestamp:e.timestamp,type:t,username:e.username}},t.prototype._renderData=function(e){var t=\"string\"==typeof this._options.template,o=\"function\"==typeof this._options.render,n=null,i=null,s=null,r=\"\";if(this._debug(\"renderData\",\"hasTemplate\",t,\"hasRender\",o),!(\"object\"!=typeof e||e.length<=0)){for(var a=0;a<e.length;a++){if(n=e[a],o)try{i=this._options.render(n,this._options),this._debug(\"renderData\",\"custom render result\",n,i)}catch(u){throw this._debug(\"renderData\",\"error calling render\",u),new Error(\"error in render: \"+u.message)}else t&&(i=this._basicRender(n));i?r+=i:this._debug(\"renderData\",\"render item did not return any content\",n)}for(this._debug(\"renderData\",\"html content\",r),(s=document.createElement(\"div\")).innerHTML=r,this._debug(\"renderData\",\"container\",s,s.childNodes.length,s.childNodes);s.childNodes.length>0;)this._debug(\"renderData\",\"appending child\",s.childNodes[0]),this._state.node.appendChild(s.childNodes[0])}},t.prototype._basicRender=function(e){for(var t=new RegExp(this._options.templateBoundaries[0]+\"([\\\\s\\\\w.]+)\"+this._options.templateBoundaries[1],\"gm\"),o=this._options.template,n=null,i=\"\",s=0,r=null,a=null;null!==(n=t.exec(o));)r=n[1],i+=o.slice(s,n.index),(a=this._valueForKeyPath(r,e))&&(i+=a.toString()),s=t.lastIndex;return s<o.length&&(i+=o.slice(s,o.length)),i},t.prototype._valueForKeyPath=function(e,t){for(var o=/([\\w]+)/gm,n=null,i=t;null!==(n=o.exec(e));){if(\"object\"!=typeof i)return null;i=i[n[1]]}return i},t.prototype._fail=function(e){!this._runHook(\"error\",e)&&console&&\"function\"==typeof console.error&&console.error(e),this._state.running=!1},t.prototype._start=function(){this._state.running=!0,this._runHook(\"before\")},t.prototype._finish=function(){this._runHook(\"after\"),this._state.running=!1},t.prototype._success=function(e){this._runHook(\"success\",e),this._state.running=!1},t.prototype._makeApiRequest=function(e,t){var o=!1,n=this,i=null,s=function(e,n){o||(o=!0,t(e,n))};(i=new XMLHttpRequest).ontimeout=function(){s(new Error(\"api request timed out\"))},i.onerror=function(){s(new Error(\"api connection error\"))},i.onload=function(e){var t=i.getResponseHeader(\"Content-Type\"),o=null;if(n._debug(\"apiRequestOnLoad\",\"loaded\",e),n._debug(\"apiRequestOnLoad\",\"response status\",i.status),n._debug(\"apiRequestOnLoad\",\"response content type\",t),t.indexOf(\"application/json\")>=0)try{o=JSON.parse(i.responseText)}catch(r){return n._debug(\"apiRequestOnLoad\",\"json parsing error\",r,i.responseText),void s(new Error(\"error parsing response json\"))}200===i.status?s(null,o):o&&o.error?s(new Error(o.error.code+\" \"+o.error.message)):s(new Error(\"status code \"+i.status))},i.open(\"GET\",e,!0),i.timeout=this._options.apiTimeout,i.send()},t.prototype._getAccessToken=function(e){var t=!1,o=this,n=null,i=function(o,i){t||(t=!0,clearTimeout(n),e(o,i))};if(\"function\"==typeof this._options.accessToken){this._debug(\"getAccessToken\",\"calling accessToken as function\"),n=setTimeout(function(){o._debug(\"getAccessToken\",\"timeout check\",t),i(new Error(\"accessToken timed out\"),null)},this._options.accessTokenTimeout);try{this._options.accessToken(function(e,n){o._debug(\"getAccessToken\",\"received accessToken callback\",t,e,n),i(e,n)})}catch(s){this._debug(\"getAccessToken\",\"error invoking the accessToken as function\",s),i(s,null)}}else this._debug(\"getAccessToken\",\"treating accessToken as static\",typeof this._options.accessToken),i(null,this._options.accessToken)},t.prototype._debug=function(){var e=null;this._options.debug&&console&&\"function\"==typeof console.log&&((e=[].slice.call(arguments))[0]=\"[Instafeed] [\"+e[0]+\"]\",console.log.apply(null,e))},t.prototype._runHook=function(e,t){var o=!1;if(\"function\"==typeof this._options[e])try{this._options[e](t),o=!0}catch(n){this._debug(\"runHook\",\"error calling hook\",e,n)}return o},t});\n"]}